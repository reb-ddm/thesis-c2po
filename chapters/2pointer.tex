\chapter{2-Pointer Logic}\label{chapter:2pointer}


The abstract domain of the \cpo\ analysis consists of finite conjunctions of propositions from the 2-Pointer Logic.
In the following section, we describe this logic and how to represent the propositions in order to
infer also all deriving propositions.
It was first introduced by Seidl et al.\ in~\cite{2pointer} and was later extended with an additional type of proposition.
The propositions are made up of terms, formed from address constants and auxiliaries using the addition of constant offsets and dereferencing.
The address constants represent addresses of program variables.
The auxiliaries are variables whose address is never taken, therefore
we know of these variables that their address cannot be reached from other terms using address arithmetic or dereferencing.
Only terms whose C type is a pointer type are considered by the analysis.
Let $\X$,$\A$ be disjoint finite sets of variables names and auxiliaries.
The terms $t$ are defined by the following grammar:

\[
    t\,{::=}\,A \mid \&x \mid *(z+t)
\]
where $A\in \A$ is an auxiliary, $x \in \X$ is a variable with address $\&x$ and $z \in \Z$ is an integer.
We call terms $\&x$ or $A$ \emph{atoms}.
Given a linear order $<$ on atoms, it can be extended to an order on terms by defining:
\begin{itemize}
    \item $a < *(z+t)$ whenever $a$ is an atom and
    \item $*(z_1 + t_1) < *(z_2 + t_2)$ whenever either $t_1 < t_2$ or $t_1 \equiv t_2$ and $z_1 < z_2$.
\end{itemize}

The terms can form three types of propositions: equalities and disequalities between terms and additionally a proposition which states that two terms do not belong to the same address block.
The propositions $p$ are defined by the following grammar:

\[
    p\,{::=}\,t_1=z+t_2 \mid t_1\neq z+t_2\mid bl(t_1) \neq bl(t_2)
\]

Where $*$ denotes the dereferencing operator and $bl(t)$ represents the address block of $t$.
We use $*t$ as an abbreviation for $*(0+t)$ and $x$ as an abbreviation for $*(0+\&x)$.
For a conjunction $\Psi$ of propositions, we denote the conjunctions of all the equalities in $\Psi$ by $\Psi_{=}$, the conjunction of disequalities between terms by $\Psi_{\neq}$ and the set of block disequalities of the type $bl(t_1) \neq bl(t_2)$ by $\Psi_{bl}$.


\input{content/representation}
\input{content/qcc}
\input{content/diseqs}
